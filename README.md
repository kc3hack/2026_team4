

----

# プロダクト名 
**Pikumei(ピクメイ)**
Pikumei（ピクメイ） は、スマホのカメラで身の回りのモノを撮影すると、それが "メイティ"（相棒）になる iOS ゲームアプリ。撮影した写真から被写体を自動で切り抜き、CoreML で 7 タイプに分類。生まれたモンスターで **リアルタイム対戦・交換・合体** を楽しめる
<img width="1920" height="1080" alt="ぴくめい" src="https://github.com/user-attachments/assets/43de332a-ec4c-4b8a-bf04-3dd94118994c" />

## チーム名
チーム4 KSD(京都産業大学)

## 背景・課題・解決されること
<!-- テーマ「関西をいい感じに」に対して、考案するプロダクトがどういった(Why)背景から思いついたのか、どのよう(What)な課題があり、どのよう(How)に解決するのかを入力してください -->
**テーマ：本当に欲しいをカタチに　→　繋がり（Connection）**

**問題：「ポケモンのモンスターが現実世界にいたら」という誰もが一度は抱く空想を、本当に体験できるプロダクトが存在しない**

- ポケモン GO は GPS ベースでモンスターを「発見」するが、現実のモノがモンスターに「なる」体験ではない
- 子どもから大人まで、身の回りのモノに命を吹き込み、育て、戦わせたいという欲求は普遍的に存在する
- しかし既存のゲームでは、モンスターは開発者が用意したデザインであり、**自分だけのオリジナルモンスター** を現実世界から生み出す手段がない

**"本当に欲しい" 理由：**

1. **空想の実現：** 「あのぬいぐるみが戦ったら強そう」「このペンと消しゴム、どっちが強い？」——日常の中で誰もが抱く空想を、ML とカメラの力で実際に試せる
2. **唯一無二の体験：** 同じ「猫」を撮っても、撮影角度や光の当たり方で分類信頼度が変わり、ステータスが異なる。世界に一体だけの自分のメイティが生まれる
3. **コミュニケーションの触媒：** 「何を撮ったら強いメイティになるか」という新しい話題が生まれ、友達との交換・対戦がリアルな場でのコミュニケーションを促進する

**「目の前のモノがメイティ（相棒）になったら」—— この "本当に欲しい" を、文字通り "カタチ" にするアプリ**

- **ターゲット：** ポケモンや妖怪ウォッチなどモンスター収集ゲームを楽しんできた世代（10 代〜30 代）
- **「本当に欲しい」の定義：** 現実世界のモノから自分だけのメイティ(相棒)を生み出し、世界中の人と対戦・交換・合体して遊びたい
- **「カタチに」の実現：** カメラで撮影するだけで、そのモノの写真がメイティカードとして実体化。タイプ・ステータスが付与され、対戦・交換・合体が可能になる

## プロダクト説明
| 機能 | 概要 |
|------|------|
| **メイティスキャン** | カメラで撮影 → Vision API で被写体を自動切り抜き → CoreML（PikumeiClassifier2）で 7 タイプ（Fire / Water / Leaf / Ghost / Human / Fish / Bird）に分類 → 名前を付けて保存 |
| **リアルタイム対戦** | Supabase Realtime Broadcast を使った P2P ターン制バトル。タイプ相性（1.5 倍 / 0.5 倍）・ステータス（HP / 攻撃 / 特攻 / 特防）による戦略的な戦闘 |
| **CPU 対戦** | 一人でも遊べるソロバトルモード（決定論的 AI） |
| **モンスター交換** | Supabase を介した P2P 交換。5 分以内のマッチング・RLS によるセキュアなトランザクション |
| **モンスター合体** | 自分のモンスター × 交換で得たモンスターを合体。画像は左右合成、ステータスは平均値 +10% ブーストで新たなモンスターが誕生 |
| **コレクション管理** | タイプ別グリッド表示・レーダーチャートによるステータス可視化・バトル履歴 |

**「カメラで撮ったモノがそのままモンスターになる」という体験が、Pikumei の核心的な新規性。**

| 観点 | 既存プロダクト | Pikumei |
|------|---------------|---------|
| モンスターの出自 | 開発者がデザイン | **ユーザーが現実世界から撮影して生成** |
| 見た目 | 固定のイラスト・3D モデル | **撮影した実物の切り抜き画像** |
| 個体差 | レベル・性格値など数値的な差 | **ML の分類信頼度がステータスに直結**（同じモノでも撮り方で変わる） |
| ソーシャル性 | オンライン対戦・交換 | **対戦・交換に加え、2 体を合体して画像ごと融合** |

- **被写体切り抜き × ML 分類 × ゲーム化** という技術の組み合わせ自体が新しい
- 合体機能では画像を左右合成し、視覚的にも「2 体が融合した」ことが分かる独自の演出
- 信頼度が低いと Ghost タイプになるという ML の不確実性をゲームデザインに昇華

## 操作説明・デモ動画
[デモ動画はこちら](https://www.youtube.com/watch?v=fbzGp0XJGq8)
<!-- 開発したプロダクトの操作説明について入力してください。また、操作説明デモ動画があれば、埋め込みやリンクを記載してください -->


## 注力したポイント

<!-- 開発したプロダクトの中で、特に注力して作成した箇所・ポイントについて入力してください -->
### アイデア面

### デザイン面

### その他

## 使用技術
**アーキテクチャ：MVVM**
- View（SwiftUI）/ ViewModel（状態管理・処理）/ Model（struct/enum + SwiftData）の明確な責務分離
- ハッカソンの開発スピードと可読性を両立するため、過度な抽象化（Repository / UseCase）を排除したシンプルな設計

**技術選定の妥当性：**

| 技術 | 選定理由 |
|------|----------|
| **CoreML + Vision** | オンデバイスで高速な画像分類と被写体検出を実現。ネットワーク不要で即座に結果を返せる |
| **Vision API（VNGenerateForegroundInstanceMaskRequest）** | Apple 純正の被写体切り抜き機能。精度が高く、ゲーム用の透過 PNG をリアルタイムに生成できる |
| **Supabase（PostgreSQL + Realtime + Anonymous Auth）** | BaaS としてリアルタイム通信・認証・RLS を一括提供。ハッカソンの短期開発に最適 |
| **SwiftData** | ローカルでのモンスター画像（外部ストレージ）やバトル履歴の永続化に Apple 純正の ORM を採用 |
| **Lottie** | 勝利・敗北演出などゲーム性を高めるアニメーションを少ない工数で実現 |

**設計上の工夫：**
- ML の分類信頼度が 0.5 以下の場合は Ghost タイプに変換する「不明 → ゴーストタイプ」のフォールバック設計
- 信頼度 [0.5, 1.0] をステータス値にマッピングし、ML の出力がゲーム性に直結する仕組み
- サムネイル（200×200 JPEG）生成による効率的なクラウド同期


## 使用素材・クレジット (Credits)
**効果音:** 
- OtoLogic(https://otologic.jp/)
- 効果音ラボ(https://soundeffect-lab.info/)

--------
# チーム内ルール（開発用）

## アーキテクチャ
- 基本構成：Model / View / ViewModel / Logic
- UI とロジックは分離する


### ファイル構成

```
Pikumei/
├── Model/            # アプリ内で扱うデータ構造（struct / enum）
│   └── ...

├── View/             # SwiftUI の画面
│   ├── Screens/      # 各画面（Scan / Result / Battle など）
│   └── Components/   # 再利用する UI コンポーネント

├── ViewModel/        # 状態管理・処理の呼び出し
│   ├── Logic/        # ゲームロジック（ステータス計算・バトル処理）
│   ├── ML/           # CoreML / Vision による分類処理
│   └── Camera/       # カメラ制御・画像取得

├── Utils/            # Extension 類
│   └── Extensions/
│       └── ...

├── Library/          # 非コードリソース
│   ├── Assets/       # 画像・色など
│   ├── MLModels/     # .mlmodel ファイル
│   └── Preview/      # SwiftUI Preview 用

```

## ブランチルール
- main：発表・デモ用
- develop：開発用
- feature/〇〇：機能開発

## コンフリクト時の対応
- コンフリクト状態を一度コミットする
- その後、修正した内容を別コミットとして追加する

## コミットルール
- コミットメッセージは日本語
- 変更の粒度を意識する（1コミット1変更）
